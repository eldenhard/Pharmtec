<template>
    <div class="news_block">

        <div class="news_block_content">
            <div class="grey_container">
                <div class="news_block_article">
                    <h2 class="article_title">Новости компании</h2>
                </div>
                <svg viewBox="0 0 727 341" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M36.1272 65.1423V65.1451C36.158 80.7581 41.9296 95.9826 52.6572 108.798C63.374 121.6 78.5297 131.392 96.1056 136.892C101.449 139.786 105.803 145.02 109.326 152.231C112.857 159.459 115.533 168.638 117.529 179.341C121.522 200.75 122.781 228.171 122.781 258.094C122.781 288.777 121.442 316.777 117.195 338.369C115.072 349.166 112.227 358.335 108.475 365.429C104.729 372.511 100.1 377.489 94.4173 379.982C74.9249 385.85 58.5206 397.199 48.0831 412.071C37.9167 426.557 34.0451 443.485 37.0974 460.036C-63.6799 377.877 -110.276 271.123 -131.669 184.773C-142.404 141.446 -146.791 103.263 -148.495 75.9134C-149.347 62.2388 -149.528 51.2733 -149.497 43.7284C-149.481 39.9559 -149.412 37.0387 -149.346 35.0656C-149.314 34.079 -149.282 33.3285 -149.259 32.8252C-149.251 32.6531 -149.244 32.5099 -149.238 32.3961C-149.082 32.3403 -148.866 32.264 -148.591 32.1684C-147.952 31.9463 -146.995 31.6198 -145.723 31.2034C-143.179 30.3707 -139.376 29.1783 -134.348 27.7419C-124.292 24.8692 -109.335 21.0203 -89.7387 17.1202C-50.9236 9.39485 6.09053 1.46798 79.2584 0.525461C66.4319 7.24121 55.7769 16.4734 48.252 27.4243C40.356 38.9155 36.1759 51.908 36.1272 65.1423Z"
                        stroke="#DFDFDF" />
                    <path
                        d="M329.096 22.8128L329.098 22.8131C392.446 34.2181 451.739 57.5592 502.371 91.0012C486.543 87.0891 469.713 86.7793 453.66 90.1274C436.621 93.6809 421.163 101.208 409.126 111.825C397.088 122.442 388.974 135.707 385.767 150.049C382.649 163.994 384.3 178.374 390.515 191.566L390.099 191.909C392.82 196.879 392.242 203.265 388.791 210.913C385.344 218.553 379.071 227.35 370.588 237.048C353.624 256.438 327.913 279.324 298.595 303.604C269.278 327.883 241.555 349.148 218.059 363.167C206.31 370.178 195.637 375.364 186.363 378.214C177.08 381.066 169.265 381.557 163.187 379.265L162.874 379.796C157.406 377.232 152.928 372.334 149.287 365.449C145.535 358.356 142.69 349.19 140.566 338.397C136.32 316.811 134.98 288.818 134.98 258.121C134.98 228.199 136.239 200.778 140.237 179.369C142.235 168.666 144.914 159.487 148.45 152.259C151.976 145.048 156.337 139.815 161.688 136.92C177.327 132.055 191.09 123.769 201.505 112.934C211.931 102.088 218.611 89.0922 220.819 75.3312C223.027 61.5693 220.675 47.5728 214.023 34.8389C207.664 22.6676 197.608 12.0914 184.861 4.12656C233.369 7.81467 281.545 14.056 329.096 22.8128Z"
                        stroke="#DFDFDF" />
                    <path
                        d="M726.018 566.997C726.016 567.138 726.014 567.26 726.012 567.362C725.852 567.396 725.643 567.44 725.385 567.494C724.714 567.635 723.714 567.842 722.399 568.106C719.768 568.635 715.877 569.395 710.837 570.318C700.758 572.166 686.084 574.668 667.711 577.289C631.492 582.455 580.9 588.078 522.797 590.039C537.672 583.137 549.977 572.947 558.314 560.577C567.082 547.567 571.079 532.713 569.801 517.837C568.524 502.962 562.029 488.73 551.131 476.884C540.247 465.052 525.442 456.111 508.534 451.141C498.472 445.249 492.171 431.528 488.404 412.65C484.638 393.774 483.436 369.898 483.436 343.956C483.436 318.013 484.622 294.204 488.352 275.378C492.082 256.552 498.326 242.864 508.309 236.904C519.793 233.636 530.379 228.505 539.447 221.808C548.533 215.099 555.913 206.951 561.151 197.839C566.389 188.727 569.377 178.837 569.935 168.748C570.449 159.466 568.896 150.195 565.365 141.394C648.847 223.078 689.024 329.196 708.322 415.153C718.037 458.431 722.458 496.587 724.449 523.922C725.445 537.59 725.834 548.551 725.973 556.094C726.043 559.866 726.05 562.783 726.041 564.756C726.036 565.743 726.026 566.493 726.018 566.997Z"
                        stroke="#DFDFDF" />
                    <path
                        d="M430.942 589.534C354.715 586.188 272.64 574.721 196.319 547.915C178.621 541.638 161.345 534.578 144.566 526.765C157.838 524.9 170.469 520.659 181.572 514.328C193.148 507.728 202.762 499.026 209.678 488.88C216.594 478.732 220.629 467.407 221.467 455.765C222.266 444.668 220.142 433.57 215.254 423.238L215.794 422.795C213.058 417.846 213.618 411.46 217.052 403.8C220.482 396.149 226.737 387.329 235.207 377.605C252.141 358.161 277.836 335.209 307.17 310.916C335.083 287.865 361.509 267.532 384.227 253.558C395.586 246.571 406.004 241.182 415.206 237.837C424.395 234.496 432.325 233.211 438.751 234.364L439.046 234.471C441.395 235.33 443.748 236.19 446.333 236.906C456.331 242.866 462.575 256.508 466.3 275.309C470.026 294.112 471.204 317.92 471.204 343.957C471.204 369.993 470.002 393.868 466.244 412.721C462.486 431.575 456.2 445.249 446.17 451.142C429.337 456.066 414.58 464.929 403.697 476.668C392.8 488.422 386.255 502.554 384.877 517.349C383.498 532.145 387.347 546.946 395.944 559.951C404.114 572.311 416.234 582.54 430.942 589.534Z"
                        stroke="#DFDFDF" />
                </svg>
                <div class="news_elements">

                    <div class="news_item" v-show="is_news_visible">
                        <div class="img_block">
                            <img src="../assets/man_news.png">
                        </div>
                        <div class="description">
                            <p class="description_text">
                                Приветствуем нового сотрудника! Иванов Иван, медицинский представитель, город Самара
                                ....
                            </p>
                        </div>
                        <div class="footer_item">
                            <p class="green_text">23.03.2024</p>
                            <like_el />
                            <link_el />
                        </div>
                    </div>

                    <div class="news_item" v-show="is_news_visible">
                        <div class="img_block">
                            <img src="../assets/woman_news.png">
                        </div>
                        <div class="description">
                            <p class="description_text">
                                Поздравляем с Днем рождения! Сегодня день рождения отмечает Анна Петрова,  медицинский
                                представитель г. Волгоград
                            </p>
                        </div>
                        <div class="footer_item">
                            <p class="green_text">23.03.2024</p>
                            <like_el />
                            <link_el />
                        </div>
                    </div>
                    <swiper v-show="is_slider_visible" :slidesPerView="'auto'" :spaceBetween="10" :pagination="{
                        clickable: true,
                    }" :modules="modules" class="mySwiper">
                      
                      <swiper-slide>
                            <div class="news_item" >
                                <div class="img_block">
                                    <img src="../assets/man_news.png">
                                </div>
                                <div class="description">
                                    <p class="description_text">
                                        Приветствуем нового сотрудника! Иванов Иван, медицинский представитель, город
                                        Самара
                                        ....
                                    </p>
                                </div>
                                <div class="footer_item">
                                    <p class="green_text">23.03.2024</p>
                                    <like_el />
                                    <link_el />
                                </div>
                            </div>
                        </swiper-slide>
                        <swiper-slide>
                            <div class="news_item" >
                                <div class="img_block">
                                    <img src="../assets/woman_news.png">
                                </div>
                                <div class="description">
                                    <p class="description_text">
                                        Поздравляем с Днем рождения! Сегодня день рождения отмечает Анна Петрова, 
                                        медицинский
                                        представитель г. Волгоград
                                    </p>
                                </div>
                                <div class="footer_item">
                                    <p class="green_text">23.03.2024</p>
                                    <like_el />
                                    <link_el />
                                </div>
                            </div>
                        </swiper-slide>
                    </swiper>
                </div>
                <br>
                <router-link to="/news" style="outline: none !important; text-decoration: none !important;">
                <a class="watch_all_news" v-show="is_news_visible">
                    Смотреть все новости
                </a>
            </router-link>
            </div>
        </div>
    </div>
</template>


<script>
import like_el from '../ui/like_element_ui.vue'
import link_el from '../ui/link_element_ui.vue'
import { Swiper, SwiperSlide } from 'swiper/vue';
// Import Swiper styles
import 'swiper/css';
import 'swiper/css/pagination';
import { ref, onMounted, onUnmounted } from 'vue';
// import required modules
import { Pagination } from 'swiper/modules';
export default {
    components: {
        like_el,
        link_el,
        Swiper,
        SwiperSlide,

    },
    setup() {
        const is_slider_visible = ref(false)
        const is_news_visible = ref(true)
        const width = ref(window.innerWidth);
        onMounted(() => {
            window.addEventListener('resize', resizeHandler);
            resizeHandler()
            document.querySelectorAll('.swiper-pagination').forEach((el) => {
                el.style = 'display: none !important;'
            })
        })
        onUnmounted(() => {
            window.removeEventListener('resize', resizeHandler);
        })
        const resizeHandler = () => {
            width.value = window.innerWidth;
            if (width.value < 800) {
                is_slider_visible.value = true;
                is_news_visible.value = false;
            } else {
                is_slider_visible.value = false;
                is_news_visible.value = true;
            }
        };
        return {
            modules: [Pagination],
            is_slider_visible,
            width,
            is_news_visible,
        };
    },
}
</script>


<style scoped>
@import '@/pages/new_start_page/style/style_body_elements.scss';
.swiper-pagination-bullets {
    display: none !important;
}
.swiper-pagination-bullet .swiper-pagination-bullet-active{
    display: none !important;
}
.swiper {
    width: 100%;
    height: 100%;
}

.swiper-slide {
    text-align: center;
    font-size: 18px;
    height: 100%;
    margin-top: 15%;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
} */

.swiper-slide {
    width: 80%;
}

.swiper-slide:nth-child(2n) {
    width: 80%;
}

.swiper-slide:nth-child(3n) {
    width: 40%;
}

@media screen and (max-width: 800px) {
    .news_item {
        width: 85% !important;
    }
    .article_title{
        font-size: 1.4rem;
    }

}
</style>
